# Publish ALL RSI packages in GitHub Packages
name: Publish Rsi packages

on: push

env:
  DOTNET_VERSION: '6.x.x'
  PACKAGE_OUTPUT_DIRECTORY: ${{ github.workspace }}/output
  NUGET_SOURCE_URL: 'https://nuget.pkg.github.com/sbermudez-rsi/index.json'
  PATH_NUGET: 'SayHi.csproj'


jobs:
  Package-Rsi-Core:
    name: 'Publish SayHi'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      # Install DotNet X SDK
      - name: 'Install dotnet'
        uses: actions/setup-dotnet@v1
        with:
          dotnet-version: '${{env.DOTNET_VERSION}}'
          include-prerelease: true

      # Dotne nuget add source
      - name: 'Nuget Add Source'
        run: dotnet nuget add source --username @sbermudez-rsi --password ${{secrets.GITHUB_TOKEN}} --store-password-in-clear-text --name 'github' '${{env.NUGET_SOURCE_URL}}'
